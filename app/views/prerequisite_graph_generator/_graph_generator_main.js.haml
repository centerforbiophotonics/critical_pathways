:javascript
  var graph = null;
  (function(){
    /**** MAIN ****/

    // warn the user when leaving
    window.onbeforeunload = function(){
      return "Make sure to save your graph locally before leaving";
    };    

    var docEl = document.documentElement,
        bodyEl = document.getElementsByTagName('body')[0];
    
    var width = window.innerWidth || docEl.clientWidth || bodyEl.clientWidth,
        height =  window.innerHeight|| docEl.clientHeight|| bodyEl.clientHeight;

    var nodes = [];
    var edges = [];

    /** MAIN SVG **/
    var svg = d3.select("#graph_div").append("svg")
          .attr("width", width)
          .attr("height", height);

    var GraphCreator = MODULE.GraphCreator;
    graph = new GraphCreator(svg, '#graph_div', nodes, edges);
        graph.setIdCt(0);
    //was setIdCt(2)
    graph.updateGraph();
  })();